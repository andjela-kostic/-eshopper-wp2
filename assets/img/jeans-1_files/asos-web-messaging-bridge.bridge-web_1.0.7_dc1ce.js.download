(window.sharedJsonP=window.sharedJsonP||[]).push([["asos-web-messaging-bridge.bridge-web|1.0.7|dc1ce"],{c449f:function(e,n,t){"use strict";var i=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e},o=function(e){var n,t=(n="a",document.createElement(n));return t.href=e,t.origin},s=function(){function e(n,t,r){i(this,e),this.active=!0,this.frameRef=n,this.targetWindow=n.contentWindow,this.targetDomain=o(t),this.recieveCallback=this.messageReceiverFactory(r),window.addEventListener("message",this.recieveCallback)}return a(e,[{key:"messageReceiverFactory",value:function(e){var n=this;return function(t){n.targetDomain===t.origin&&t.data.bridgeContent&&e(t.data.bridgeContent,n)}}},{key:"send",value:function(e){this.active&&this.targetWindow.postMessage({bridgeContent:e},this.targetDomain)}},{key:"disconnect",value:function(){this.active=!1,this.frameRef.onload=function(){},this.frameRef.src="",window.removeEventListener("message",this.recieveCallback)}}]),e}(),c={connect:function(e,n,t){var i=new s(e,n,t),r=new Promise((function(n,t){e.onload=function(){n(i)},e.onerror=function(){t("Frame Timeout")}}));return e.src=n,r}};e.exports=c}}]);
//# sourceMappingURL=asos-web-messaging-bridge.bridge-web~1.0.7~dc1ce.js.map